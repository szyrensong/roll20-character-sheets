<!-- *** HIDDEN ROLLS ** -->
<div style="display: none;">
    <!-- ATTRIBUTS -->
    <input type="text" disabled hidden name="attr_RollAGI" value="{ 1d@{agilite_de}![Agilité] , @{joker_de}![Joker] }kh1 + @{agilite_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollAGI" value="&{template:sawo} {{name=Agilité}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollAGI} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollAGI" value="&{template:sawo} {{name=Agilité}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollAGI}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollAME" value="{ 1d@{ame_de}![Âme] , @{joker_de}![Joker] }kh1 + @{ame_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollAME" value="&{template:sawo} {{name=Âme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollAME} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollAME" value="&{template:sawo} {{name=Âme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollAME}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollFOR" value="{ 1d@{force_de}![Force] , @{joker_de}![Joker] }kh1 + @{force_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollFOR" value="&{template:sawo} {{name=Force}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollFOR} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollFOR" value="&{template:sawo} {{name=Force}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollFOR}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollINT" value="{ 1d@{intellect_de}![Intellect] , @{joker_de}![Joker] }kh1 + @{intellect_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollINT" value="&{template:sawo} {{name=Intellect}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollINT} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollINT" value="&{template:sawo} {{name=Intellect}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollINT}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollVIG" value="{ 1d@{vigueur_de}![Vigueur] , @{joker_de}![Joker] }kh1 + @{vigueur_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollVIG" value="&{template:sawo} {{name=Vigueur}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollVIG} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollVIG" value="&{template:sawo} {{name=Vigueur}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollVIG}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <!-- BASTON -->
    <input type="text" disabled hidden name="attr_RollBastCombat" value="{ 1d@{combat_de}![Combat],@{joker_de}![Joker]}kh1 + @{combat_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastCombat" value="{ floor( ( { @{RollBastCombat} } - (@{Target|parade}[Parade] - 4 ) ) /4), 0d0 }kh1 " />
    <input type="text" disabled hidden name="attr_jetRollBastCombat" value="@{RollBastCombat}" />

    <input type="text" disabled hidden name="attr_RollBastLancer" value="{ 1d@{lancer_de}![Lancer],@{joker_de}![Joker]}kh1 + @{lancer_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] - ?{Portée|Courte,0|Moyenne,2|Longue,4}[Portée] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastLancer" value="{ floor( ( { @{rollBastLancer} } ) /4), 0d0 }kh1" />
    <input type="text" disabled hidden name="attr_jetRollBastLancer" value="@{RollBastLancer}" />

    <input type="text" disabled hidden name="attr_RollBastTir" value="{ 1d@{tir_de}![Tir],?{Dé joker ?|Oui,@{joker_de}!|Non,0d4}[Joker]}kh1 + @{tir_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] - ?{Portée|Courte,0|Moyenne,2|Longue,4}[Portée] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastTir" value="{ floor( ( { @{rollBastTir} } ) /4), 0d0 }kh1" />
    <input type="text" disabled hidden name="attr_jetRollBastTir" value="@{RollBastTir}" />

    <input type="text" disabled hidden name="attr_RollBastForce" value="1d@{force_de}!+@{force_bonus}[Dégâts : Force]" />

    <!-- ARMES -->
    <input type="text" disabled hidden name="attr_relRollArmeFixe1" value="&{template:sawo} {{name=@{arme1_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[ @{arme1_comp_rel} ]]}} {{degatsrel=[[@{relRollArmeFixe1Dgt}]]}} {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme1_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe1" value="&{template:sawo} {{name=@{arme1_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{arme1_comp_jet} ]]}} {{degats=[[@{jetRollArmeFixe1Dgt}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme1_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe1Dgt" value="@{arme1_dgt_force} + @{arme1_dgt_nbde}d@{arme1_dgt_de}!! + @{arme1_dgt_bonus}[Dégâts : arme]" />
    <input type="text" disabled hidden name="attr_relRollArmeFixe1Dgt" value="{ floor( ( @{jetRollArmeFixe1Dgt} - (@{Target|resistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />

    <input type="text" disabled hidden name="attr_relRollArmeFixe2" value="&{template:sawo} {{name=@{arme2_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[@{arme2_comp_rel}]]}} {{degatsrel=[[@{relRollArmeFixe2Dgt}]]}} {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme2_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe2" value="&{template:sawo} {{name=@{arme2_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{arme2_comp_jet} ]]}} {{degats=[[@{jetRollArmeFixe2Dgt}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme2_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe2Dgt" value="@{arme2_dgt_force} + @{arme2_dgt_nbde}d@{arme2_dgt_de}!! + @{arme2_dgt_bonus}[Dégâts : arme]" />
    <input type="text" disabled hidden name="attr_relRollArmeFixe2Dgt" value="{ floor( ( @{jetRollArmeFixe2Dgt} - (@{Target|resistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />

    <input type="text" disabled hidden name="attr_relRollArmeFixe3" value="&{template:sawo} {{name=@{arme3_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[@{arme3_comp_rel}]]}} {{degatsrel=[[@{relRollArmeFixe3Dgt}]]}} {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme3_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe3" value="&{template:sawo} {{name=@{arme3_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{arme3_comp_jet} ]]}} {{degats=[[@{jetRollArmeFixe3Dgt}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme3_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe3Dgt" value="@{arme3_dgt_force} + @{arme3_dgt_nbde}d@{arme3_dgt_de}!! + @{arme3_dgt_bonus}[Dégâts : arme]" />
    <input type="text" disabled hidden name="attr_relRollArmeFixe3Dgt" value="{ floor( ( @{jetRollArmeFixe3Dgt} - (@{Target|resistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />

    <!-- COMPETENCES -->
    <input type="text" disabled hidden name="attr_RollArcane" value="{ 1d@{arcane_de}![@{arcane_nom}],@{joker_de}![Joker]}kh1 + @{arcane_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollArcane" value="&{template:sawo} {{name=@{arcane_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollArcane} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollArcane" value="&{template:sawo} {{name=@{arcane_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollArcane}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_relRollCombat" value="&{template:sawo} {{name=Combat}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[@{relRollBastCombat}]]}} {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollCombat" value="&{template:sawo} {{name=Combat}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{jetRollBastCombat}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollConduite" value="{ 1d@{conduite_de}![Conduite],@{joker_de}![Joker]}kh1 + @{conduite_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollConduite" value="&{template:sawo} {{name=Conduite}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollConduite} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollConduite" value="&{template:sawo} {{name=Conduite}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollConduite}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollConnaissance" value="{ 1d@{connaissance_de}![@{connaissance_nom}],@{joker_de}![Joker]}kh1 + @{connaissance_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollConnaissance" value="&{template:sawo} {{name=@{connaissance_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollConnaissance} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollConnaissance" value="&{template:sawo} {{name=@{connaissance_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollConnaissance}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollCrochetage" value="{ 1d@{crochetage_de}![Crochetage],@{joker_de}![Joker]}kh1 + @{crochetage_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollCrochetage" value="&{template:sawo} {{name=Crochetage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollCrochetage} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollCrochetage" value="&{template:sawo} {{name=Crochetage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollCrochetage}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollDiscretion" value="{ 1d@{discretion_de}![Discretion],@{joker_de}![Joker]}kh1 + @{discretion_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollDiscretion" value="&{template:sawo} {{name=Discrétion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollDiscretion} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollDiscretion" value="&{template:sawo} {{name=Discrétion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollDiscretion}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollEquitation" value="{ 1d@{equitation_de}![Equitation],@{joker_de}![Joker]}kh1 + @{equitation_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollEquitation" value="&{template:sawo} {{name=Équitation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollEquitation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollEquitation" value="&{template:sawo} {{name=Équitation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollEquitation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollEscalade" value="{ 1d@{escalade_de}![Escalade],@{joker_de}![Joker]}kh1 + @{escalade_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollEscalade" value="&{template:sawo} {{name=Escalade}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollEscalade} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollEscalade" value="&{template:sawo} {{name=Escalade}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollEscalade}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollIntimidation" value="{ 1d@{intimidation_de}![Intimidation],@{joker_de}![Joker]}kh1 + @{intimidation_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollIntimidation" value="&{template:sawo} {{name=Intimidation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollIntimidation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollIntimidation" value="&{template:sawo} {{name=Intimidation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollIntimidation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollJeu" value="{ 1d@{jeu_de}![Jeu],@{joker_de}![Joker]}kh1 + @{jeu_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollJeu" value="&{template:sawo} {{name=Jeu}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollJeu} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollJeu" value="&{template:sawo} {{name=Jeu}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollJeu}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_relRollLancer" value="&{template:sawo} {{name=Lancer}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[@{relRollBastLancer}]]}} {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollLancer" value="&{template:sawo} {{name=Lancer}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{jetRollBastLancer}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollNatation" value="{ 1d@{natation_de}![Natation],@{joker_de}![Joker]}kh1 + @{natation_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollNatation" value="&{template:sawo} {{name=Natation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollNatation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollNatation" value="&{template:sawo} {{name=Natation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollNatation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollNavigation" value="{ 1d@{navigation_de}![Navigation],@{joker_de}![Joker]}kh1 + @{navigation_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollNavigation" value="&{template:sawo} {{name=Navigation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollNavigation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollNavigation" value="&{template:sawo} {{name=Navigation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollNavigation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollPerception" value="{ 1d@{perception_de}![Perception],@{joker_de}![Joker]}kh1 + @{perception_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPerception" value="&{template:sawo} {{name=Perception}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPerception} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPerception" value="&{template:sawo} {{name=Perception}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPerception}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollPersuasion" value="{ 1d@{persuasion_de}![Persuasion],@{joker_de}![Joker]}kh1 + @{persuasion_bonus}[Bonus] + @{charisme}[Charisme] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPersuasion" value="&{template:sawo} {{name=Persuasion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPersuasion} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPersuasion" value="&{template:sawo} {{name=Persuasion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPersuasion}]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollPilotage" value="{ 1d@{pilotage_de}![Pilotage],@{joker_de}![Joker]}kh1 + @{pilotage_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPilotage" value="&{template:sawo} {{name=Pilotage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPilotage} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPilotage" value="&{template:sawo} {{name=Pilotage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPilotage}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollPistage" value="{ 1d@{pistage_de}![Pistage],@{joker_de}![Joker]}kh1 + @{pistage_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPistage" value="&{template:sawo} {{name=Pistage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPistage} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPistage" value="&{template:sawo} {{name=Pistage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPistage}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollRecherche" value="{ 1d@{recherche_de}![Trait],@{joker_de}![Recherche]}kh1 + @{recherche_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollRecherche" value="&{template:sawo} {{name=Recherche}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollRecherche} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollRecherche" value="&{template:sawo} {{name=Recherche}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollRecherche}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollReparation" value="{ 1d@{reparation_de}![Réparation],@{joker_de}![Joker]}kh1 + @{reparation_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollReparation" value="&{template:sawo} {{name=Réparation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollReparation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollReparation" value="&{template:sawo} {{name=Réparation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollReparation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollReseaux" value="{ 1d@{reseaux_de}![Réseaux],@{joker_de}![Joker]}kh1 + @{reseaux_bonus}[Bonus] + @{charisme}[Charisme] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollReseaux" value="&{template:sawo} {{name=Réseaux}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollReseaux} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} " />
    <input type="text" disabled hidden name="attr_jetRollReseaux" value="&{template:sawo} {{name=Réseaux}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollReseaux}]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} " />

    <input type="text" disabled hidden name="attr_RollSarcasme" value="{ 1d@{sarcasme_de}![Sarcasme],@{joker_de}![Joker]}kh1 + @{sarcasme_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollSarcasme" value="&{template:sawo} {{name=Sarcasme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollSarcasme} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollSarcasme" value="&{template:sawo} {{name=Sarcasme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollSarcasme}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollSoins" value="{ 1d@{soins_de}![Soins],@{joker_de}![Joker]}kh1 + @{soins_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollSoins" value="&{template:sawo} {{name=Soins}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollSoins} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollSoins" value="&{template:sawo} {{name=Soins}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollSoins}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollSurvie" value="{ 1d@{survie_de}![Survie],@{joker_de}![Joker]}kh1 + @{survie_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollSurvie" value="&{template:sawo} {{name=Survie}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollSurvie} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollSurvie" value="&{template:sawo} {{name=Survie}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollSurvie}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_relRollTir" value="&{template:sawo} {{name=Tir}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[@{relRollBastTir}]]}} {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollTir" value="&{template:sawo} {{name=Tir}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{jetRollBastTir}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
</div> <!-- *** HIDDEN ROLLS ** -->
<!-- PARAMETRAGES -->
<span class="sheet-smallspan">Version 1.1 (2015-11-30)&nbsp;-&nbsp;Style des jets: </span>
<input type="radio" name="attr_sheetStyle" value="0" class="sheet-styleRolrel" checked="checked" title="Style de jet par template, montrant succès et relances" /><span>Succès+Relances</span>
<input type="radio" name="attr_sheetStyle" value="1" class="sheet-styleRoljet" title="Style de jet 'macro', montrant les jets bruts" /><span>Jets bruts</span>
<!--- ***  FdP *** -->
<div class="sheet-main">
    <div class="sheet-mycol"> <!-- ** COL1 ** -->
        <div class="sheet-colblock"> <!-- TRAITS -->
            <div> <!-- ATTRIBUTS -->
                <div style="text-align: center;"> <!-- JOKER -->
                    <div class="sheet-redtitle1" style="display:inline-block;">TRAITS</div>
                    &nbsp;
                    <div class="sheet-blacktext2">Dé Joker</div>
                    <SELECT name="attr_joker_de" class="sheet-selde">
                        <OPTION value="0d4">&nbsp;-</OPTION>
                        <OPTION value="1d4">&nbsp;d4</OPTION>
                        <OPTION value="1d6" SELECTED>&nbsp;d6</OPTION>
                        <OPTION value="1d8">&nbsp;d8</OPTION>
                        <OPTION value="1d10">d10</OPTION>
                        <OPTION value="1d12">d12</OPTION>
                    </SELECT>
                </div> <!-- FIN JOKER -->
                <div class="sheet-redtitle2">ATTRIBUTS</div>
                <div class="sheet-input"> <!-- AGILITE -->
                    <button type="roll"
                        name="Btrel-Agilite"
                        class="sheet-btRolrel"
                        value="@{relRollAGI}"
                        >AGILITÉ</button>
                    <button type="roll"
                        name="Btjet-Agilite"
                        class="sheet-btRoljet"
                        value="@{jetRollAGI}"
                        >AGILITÉ</button>
                    <SELECT name="attr_agilite_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_agilite_bonus" value="0"/>
                </div> <!-- FIN AGILITE -->
                <div class="sheet-input"> <!-- AME -->
                    <button type="roll"
                        name="Btrel-Ame"
                        class="sheet-btRolrel"
                        value="@{relRollAME}"
                        >ÂME</button>
                    <button type="roll"
                        name="Btjet-Ame"
                        class="sheet-btRoljet"
                        value="@{jetRollAME}"
                        >ÂME</button>
                    <SELECT name="attr_ame_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_ame_bonus" value="0" min="0"/>
                </div> <!-- FIN AME -->
                <div class="sheet-input"> <!-- FORCE -->
                    <button type="roll"
                        name="Btrel-Force"
                        class="sheet-btRolrel"
                        value="@{relRollFOR}"
                        >FORCE</button>
                    <button type="roll"
                        name="Btjet-Force"
                        class="sheet-btRoljet"
                        value="@{jetRollFOR}"
                        >FORCE</button>
                    <SELECT name="attr_force_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_force_bonus" value="0" min="0"/>
                </div> <!-- FIN FORCE -->
                <div class="sheet-input"> <!-- INTELLECT -->
                    <button type="roll"
                        name="Btrel-Intellect"
                        class="sheet-btRolrel"
                        value="@{relRollINT}"
                        >INTELLECT</button>
                    <button type="roll"
                        name="Btjet-Intellect"
                        class="sheet-btRoljet"
                        value="@{jetRollINT}"
                        >INTELLECT</button>
                    <SELECT name="attr_intellect_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_intellect_bonus" value="0" min="0" />
                </div> <!-- FIN INTELLECT -->
                <div class="sheet-input"> <!-- VIGUEUR -->
                    <button type="roll"
                        name="Btrel-Vigueur"
                        class="sheet-btRolrel"
                        value="@{relRollVIG}"
                        >VIGUEUR</button>
                    <button type="roll"
                        name="Btjet-Vigueur"
                        class="sheet-btRoljet"
                        value="@{jetRollVIG}"
                        >VIGUEUR</button>
                    <SELECT name="attr_vigueur_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_vigueur_bonus" value="0" min="0" />
                </div> <!-- FIN VIGUEUR -->
            </div> <!-- FIN ATTRIBUTS -->
            <div> <!-- COMPETENCES -->
                <div class="sheet-redtitle2">COMPÉTENCES</div>
                <div class="sheet-input"> <!-- ARCANES -->
                    <button type="roll"
                        name="Btrel-Arcane"
                        class="sheet-btRolrel"
                        value="@{relRollArcane}"
                        >&nbsp;</button>
                    <button type="roll"
                        name="Btjet-Arcane"
                        class="sheet-btRoljet"
                        value="@{jetRollArcane}"
                        >&nbsp;</button>
                    <input type="text" class="sheet-compspe" name="attr_arcane_nom" placeholder="ARCANES" value="ARCANES" title="Nom de la compétence d'Arcanes" />
                    <SELECT class="sheet-attcomptext"  name="attr_arcane_attr"  title="Attribut dont dépend la compétence d'Arcanes">
                        <OPTION value="agilite">(AGI)</OPTION>
                        <OPTION value="ame">(ÂME)</OPTION>
                        <OPTION value="force">(FOR)</OPTION>
                        <OPTION value="intellect" SELECTED>(INT)</OPTION>
                        <OPTION value="vigueur">(VIG)</OPTION>
                    </SELECT>
                    <SELECT name="attr_arcane_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_arcane_bonus" value="-2" min="-2" />
                </div> <!-- FIN ARCANES -->
                <div class="sheet-input"> <!-- COMBAT -->
                    <button type="roll"
                        name="Btrel-Combat"
                        class="sheet-btRolrel"
                        value="@{relRollCombat}"
                        >Combat</button>
                    <button type="roll"
                        name="Btjet-Combat"
                        class="sheet-btRoljet"
                        value="@{jetRollCombat}"
                        >Combat</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_combat_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_combat_bonus" value="-2" min="-2" />
                </div> <!-- FIN COMBAT -->
                <div class="sheet-input"> <!-- CONDUITE -->
                    <button type="roll"
                        name="Btrel-Conduite"
                        class="sheet-btRolrel"
                        value="@{relRollConduite}"
                        >Conduite</button>
                    <button type="roll"
                        name="Btjet-Conduite"
                        class="sheet-btRoljet"
                        value="@{jetRollConduite}"
                        >Conduite</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_conduite_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_conduite_bonus" value="-2" min="-2" />
                </div> <!-- FIN CONDUITE -->
                <div class="sheet-input"> <!-- CONNAISSANCE -->
                    <button type="roll"
                        name="Btrel-Connaissance"
                        class="sheet-btRolrel"
                        value="@{relRollConnaissance}"
                        title="Connaissance"
                        >&nbsp;</button>
                    <button type="roll"
                        name="Btjet-Connaissance"
                        class="sheet-btRoljet"
                        value="@{jetRollConnaissance}"
                        title="Connaissance"
                        >&nbsp;</button>
                    <input type="text" class="sheet-compspe" name="attr_connaissance_nom" placeholder="Connaissance" value="Connaissance" title="Nom de la compétence de Connaissances" />
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_connaissance_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_connaissance_bonus" value="-2" min="-2" />
                </div> <!-- FIN CONNAISSANCE -->
                <div class="sheet-input"> <!-- CROCHETAGE -->
                    <button type="roll"
                        name="Btrel-Crochetage"
                        class="sheet-btRolrel"
                        value="@{relRollCrochetage}"
                        >Crochetage</button>
                    <button type="roll"
                        name="Btjet-Crochetage"
                        class="sheet-btRoljet"
                        value="@{jetRollCrochetage}"
                        >Crochetage</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_crochetage_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_crochetage_bonus" value="-2" min="-2" />
                </div> <!-- FIN CROCHETAGE -->
                <div class="sheet-input"> <!-- DISCRÉTION -->
                    <button type="roll"
                        name="Btrel-Discrétion"
                        class="sheet-btRolrel"
                        value="@{relRollDiscretion}"
                        >Discrétion</button>
                    <button type="roll"
                        name="Btjet-Discrétion"
                        class="sheet-btRoljet"
                        value="@{jetRollDiscretion}"
                        >Discrétion</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_discretion_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_discretion_bonus" value="-2" min="-2" />
                </div> <!-- FIN DISCRÉTION -->
                <div class="sheet-input"> <!-- ÉQUITATION -->
                    <button type="roll"
                        name="Btrel-Equitation"
                        class="sheet-btRolrel"
                        value="@{relRollEquitation}"
                        >Équitation</button>
                    <button type="roll"
                        name="Btjet-Equitation"
                        class="sheet-btRoljet"
                        value="@{jetRollEquitation}"
                        >Équitation</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_equitation_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_equitation_bonus" value="-2" min="-2" />
                </div> <!-- FIN ÉQUITATION -->
                <div class="sheet-input"> <!-- ESCALADE -->
                    <button type="roll"
                        name="Btrel-Escalade"
                        class="sheet-btRolrel"
                        value="@{relRollEscalade}"
                        >Escalade</button>
                    <button type="roll"
                        name="Btjet-Escalade"
                        class="sheet-btRoljet"
                        value="@{jetRollEscalade}"
                        >Escalade</button>
                    <div class="sheet-attcomptext">FOR</div>
                    <SELECT name="attr_escalade_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_escalade_bonus" value="-2" min="-2" />
                </div> <!-- FIN ESCALADE -->
                <div class="sheet-input"> <!-- INTIMIDATION -->
                    <button type="roll"
                        name="Btrel-Intimidation"
                        class="sheet-btRolrel"
                        value="@{relRollIntimidation}"
                        >Intimidation</button>
                    <button type="roll"
                        name="Btjet-Intimidation"
                        class="sheet-btRoljet"
                        value="@{jetRollIntimidation}"
                        >Intimidation</button>
                    <div class="sheet-attcomptext">ÂME</div>
                    <SELECT name="attr_intimidation_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_intimidation_bonus" value="-2" min="-2" />
                </div> <!-- FIN INTIMIDATION -->
                <div class="sheet-input"> <!-- JEU -->
                    <button type="roll"
                        name="Btrel-Jeu"
                        class="sheet-btRolrel"
                        value="@{relRollJeu}"
                        >Jeu</button>
                    <button type="roll"
                        name="Btjet-Jeu"
                        class="sheet-btRoljet"
                        value="@{jetRollJeu}"
                        >Jeu</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_jeu_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_jeu_bonus" value="-2" min="-2" />
                </div> <!-- FIN JEU -->
                <div class="sheet-input"> <!-- LANCER -->
                    <button type="roll"
                        name="Btrel-Lancer"
                        class="sheet-btRolrel"
                        value="@{relRollLancer}"
                        >Lancer</button>
                    <button type="roll"
                        name="Btjet-Lancer"
                        class="sheet-btRoljet"
                        value="@{jetRollLancer}"
                        >Lancer</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_lancer_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_lancer_bonus" value="-2" min="-2" />
                </div> <!-- FIN LANCER -->
                <div class="sheet-input"> <!-- NATATION -->
                    <button type="roll"
                        name="Btrel-Natation"
                        class="sheet-btRolrel"
                        value="@{relRollNatation}"
                        >Natation</button>
                    <button type="roll"
                        name="Btjet-Natation"
                        class="sheet-btRoljet"
                        value="@{jetRollNatation}"
                        >Natation</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_natation_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_natation_bonus" value="-2" min="-2" />
                </div> <!-- FIN NATATION -->
                <div class="sheet-input"> <!-- NAVIGATION -->
                    <button type="roll"
                        name="Btrel-Navigation"
                        class="sheet-btRolrel"
                        value="@{relRollNavigation}"
                        >Navigation</button>
                    <button type="roll"
                        name="Btjet-Navigation"
                        class="sheet-btRoljet"
                        value="@{jetRollNavigation}"
                        >Navigation</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_navigation_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_navigation_bonus" value="-2" min="-2" />
                </div> <!-- FIN NAVIGATION -->
                <div class="sheet-input"> <!-- PERCEPTION -->
                    <button type="roll"
                        name="Btrel-Perception"
                        class="sheet-btRolrel"
                        value="@{relRollPerception}"
                        >Perception</button>
                    <button type="roll"
                        name="Btjet-Perception"
                        class="sheet-btRoljet"
                        value="@{jetRollPerception}"
                        >Perception</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_perception_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_perception_bonus" value="-2" min="-2" />
                </div> <!-- FIN PERCEPTION -->
                <div class="sheet-input"> <!-- PERSUASION -->
                    <button type="roll"
                        name="Btrel-Persuasion"
                        class="sheet-btRolrel"
                        value="@{relRollPersuasion}"
                        >Persuasion</button>
                    <button type="roll"
                        name="Btjet-Persuasion"
                        class="sheet-btRoljet"
                        value="@{jetRollPersuasion}"
                        >Persuasion</button>
                    <div class="sheet-attcomptext">ÂME</div>
                    <SELECT name="attr_persuasion_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_persuasion_bonus" value="-2" min="-2" />
                </div> <!-- FIN PERSUASION -->
                <div class="sheet-input"> <!-- PILOTAGE -->
                    <button type="roll"
                        name="Btrel-Pilotage"
                        class="sheet-btRolrel"
                        value="@{relRollPilotage}"
                        >Pilotage</button>
                    <button type="roll"
                        name="Btjet-Pilotage"
                        class="sheet-btRoljet"
                        value="@{jetRollPilotage}"
                        >Pilotage</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_pilotage_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_pilotage_bonus" value="-2" min="-2" />
                </div> <!-- FIN PILOTAGE -->
                <div class="sheet-input"> <!-- PISTAGE -->
                    <button type="roll"
                        name="Btrel-Pistage"
                        class="sheet-btRolrel"
                        value="@{relRollPistage}"
                        >Pistage</button>
                    <button type="roll"
                        name="Btjet-Pistage"
                        class="sheet-btRoljet"
                        value="@{jetRollPistage}"
                        >Pistage</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_pistage_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_pistage_bonus" value="-2" min="-2" />
                </div> <!-- FIN PISTAGE -->
                <div class="sheet-input"> <!-- RECHERCHE -->
                    <button type="roll"
                        name="Btrel-Recherche"
                        class="sheet-btRolrel"
                        value="@{relRollRecherche}"
                        >Recherche</button>
                    <button type="roll"
                        name="Btjet-Recherche"
                        class="sheet-btRoljet"
                        value="@{jetRollRecherche}"
                        >Recherche</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_recherche_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_recherche_bonus" value="-2" min="-2" />
                </div> <!-- FIN RECHERCHE -->
                <div class="sheet-input"> <!-- RÉPARATION -->
                    <button type="roll"
                        name="Btrel-Reparation"
                        class="sheet-btRolrel"
                        value="@{relRollReparation}"
                        >Réparation</button>
                    <button type="roll"
                        name="Btjet-Reparation"
                        class="sheet-btRoljet"
                        value="@{jetRollReparation}"
                        >Réparation</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_reparation_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_reparation_bonus" value="-2" min="-2" />
                </div> <!-- FIN RÉPARATION -->
                <div class="sheet-input"> <!-- RÉSEAUX -->
                    <button type="roll"
                        name="Btrel-Reseaux"
                        class="sheet-btRolrel"
                        value="@{relRollReseaux}"
                        >Réseaux</button>
                    <button type="roll"
                        name="Btjet-Reseaux"
                        class="sheet-btRoljet"
                        value="@{jetRollReseaux}"
                        >Réseaux</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_reseaux_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_reseaux_bonus" value="-2" min="-2" />
                </div> <!-- FIN RÉSEAUX -->
                <div class="sheet-input"> <!-- SARCASME -->
                    <button type="roll"
                        name="Btrel-Sarcasme"
                        class="sheet-btRolrel"
                        value="@{relRollSarcasme}"
                        >Sarcasme</button>
                    <button type="roll"
                        name="Btjet-Sarcasme"
                        class="sheet-btRoljet"
                        value="@{jetRollSarcasme}"
                        >Sarcasme</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_sarcasme_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_sarcasme_bonus" value="-2" min="-2" />
                </div> <!-- FIN SARCASME -->
                <div class="sheet-input"> <!-- SOINS -->
                    <button type="roll"
                        name="Btrel-Soins"
                        class="sheet-btRolrel"
                        value="@{relRollSoins}"
                        >Soins</button>
                    <button type="roll"
                        name="Btjet-Soins"
                        class="sheet-btRoljet"
                        value="@{jetRollSoins}"
                        >Soins</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_soins_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_soins_bonus" value="-2" min="-2" />
                </div> <!-- FIN SOINS -->
                <div class="sheet-input"> <!-- SURVIE -->
                    <button type="roll"
                        name="Btrel-Survie"
                        class="sheet-btRolrel"
                        value="@{relRollSurvie}"
                        >Survie</button>
                    <button type="roll"
                        name="Btjet-Survie"
                        class="sheet-btRoljet"
                        value="@{jetRollSurvie}"
                        >Survie</button>
                    <div class="sheet-attcomptext">INT</div>
                    <SELECT name="attr_survie_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_survie_bonus" value="-2" min="-2" />
                </div> <!-- FIN SURVIE -->
                <div class="sheet-input"> <!-- TIR -->
                    <button type="roll"
                        name="Btrel-Tir"
                        class="sheet-btRolrel"
                        value="@{relRollTir}"
                        >Tir</button>
                    <button type="roll"
                        name="Btjet-Tir"
                        class="sheet-btRoljet"
                        value="@{jetRollTir}"
                        >Tir</button>
                    <div class="sheet-attcomptext">AGI</div>
                    <SELECT name="attr_tir_de" class="sheet-selde">
                        <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                        <OPTION value="6">&nbsp;d6</OPTION>
                        <OPTION value="8">&nbsp;d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>
                    +<input type="number" class="sheet-selde" name="attr_tir_bonus" value="-2" min="-2" />
                </div> <!-- FIN TIR -->
                <fieldset class="repeating_competences"> <!-- COMPETENCE (S) LIBRE(S) -->
                    <div class="sheet-input">
                    <button type="roll"
                        name="Btrel-Competence"
                        class="sheet-btRolrel"
                        value="&{template:sawo} {{name=@{comp_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { { 1d@{comp_de}![@{comp_nom}],@{joker_de}![Joker]}kh1 + @{comp_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur] } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}"
                        >&nbsp;</button>
                    <button type="roll"
                        name="Btjet-Competence"
                        class="sheet-btRoljet"
                        value="&{template:sawo} {{name=@{comp_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[{ 1d@{comp_de}![@{comp_nom}],@{joker_de}![Joker]}kh1 + @{comp_bonus}[Bonus] - @{blessures}[Blessures] - @{fatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}"
                        >&nbsp;</button>
                        <input type="text" class="sheet-compspe" name="attr_comp_nom" placeholder="Compétence" title="Nom de la compétence" />
                        <SELECT class="sheet-attcomptext"  name="attr_comp_att"  title="Attribut dont dépend la compétence">
                            <OPTION value="agilite" SELECTED>(AGI)</OPTION>
                            <OPTION value="ame">(ÂME)</OPTION>
                            <OPTION value="force">(FOR)</OPTION>
                            <OPTION value="intellect">(INT)</OPTION>
                            <OPTION value="vigueur">(VIG)</OPTION>
                        </SELECT>
                        <SELECT name="attr_comp_de" class="sheet-selde">
                            <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                            <OPTION value="6">&nbsp;d6</OPTION>
                            <OPTION value="8">&nbsp;d8</OPTION>
                            <OPTION value="10">d10</OPTION>
                            <OPTION value="12">d12</OPTION>
                        </SELECT>
                        +<input type="number" class="sheet-selde" name="attr_comp_bonus" value="0" min="0" />
                    </div>
                </fieldset> <!-- COMPETENCE (S) LIBRE(S) -->
            </div> <!-- FIN COMPETENCES -->
        </div> <!-- FIN TRAITS -->
    </div> <!-- ** END COL1 ** -->
    <div class="sheet-mycol"> <!-- ** COL2 ** -->
        <div style="text-align:center;width:100%;">
            <img width="200px" src="https://www.peginc.com/wp-content/uploads/2013/02/SW_LOGO_24bit.png" />
        </div>
        <div class="sheet-colblock"> <!-- DEGATS -->
            <div style="text-align: center;">
                <div class="sheet-redtitle1" style="display: inline-block;">D&Eacute;G&Acirc;TS</div>
                &nbsp;
                <input type="checkbox" name="attr_secoue" value='1' checked='false'>Secoué</input>
            </div>
            <div>
                <div class="redtitle3" style="width:67px;">BLESSURES</div>
                <input type="radio" name="attr_blessures" value="0" checked>0</input>
                <input type="radio" name="attr_blessures" value="1" >1</input>
                <input type="radio" name="attr_blessures" value="2" >2</input>
                <input type="radio" name="attr_blessures" value="3" >3</input>
                <input type="radio" name="attr_blessures" value="4" title="&Eacute;tat critique">Critique</input>
            </div>
            <div>
                <div class="sheet-redtitle3" style="width:67px;">FATIGUE</div>
                <input type="radio" name="attr_fatigue" value="0" checked>0</input>
                <input type="radio" name="attr_fatigue" value="1" >1</input>
                <input type="radio" name="attr_fatigue" value="2" >2</input>
                <input type="radio" name="attr_fatigue" value="3" title="&Eacute;tat critique">Critique</input>
            </div>
        </div> <!-- FIN DEGATS -->
        <div class="sheet-colblock"> <!-- Carac dérivées -->
            <div class="sheet-redtitle1">CARAC. D&Eacute;RIV&Eacute;ES</div>
            <div class="sheet-input">
                <div class="sheet-comptext">ALLURE</div>
                <input type="number" name="attr_allure_base" value="6" title="Valeur d'allure de base" />
                +<input type="number" name="attr_allure_bonus" value="0" title="Bonus d'allure"/>
                =<input type="number" name="attr_allure" value="[[@{allure_base}+@{allure_bonus}-@{blessures}]]" title="allure totale" disabled />
            </div>
            <div class="sheet-input">
                <div class="sheet-comptext">CHARISME</div>
                <input type="number" name="attr_charisme_base" value="0" title="Valeur de charisme de base" />
                +<input type="number" name="attr_charisme_bonus" value="0" title="Bonus de charisme"/>
                =<input type="number" name="attr_charisme" value="0" title="Charisme totale" readonly />
            </div>
            <div class="sheet-input">
                <div class="sheet-comptext">PARADE</div>
                <input type="number" name="attr_parade_base" value="3" title="Valeur de parade de base" readonly />
                +<input type="number" name="attr_parade_bonus" value="0" title="Bonus de parade"/>
                =<input type="number" name="attr_parade" value="3" title="Parade totale" readonly />
            </div>
            <div class="sheet-input">
                <div class="sheet-comptext">R&Eacute;SISTANCE</div>
                <input type="number" name="attr_resistance_base" value="4" title="Valeur de Résistance de base" readonly />
                +<input type="number" name="attr_resistance_bonus" value="0" title="Armure (torse) et autres bonus de vigueur"/>
                =<input type="number" name="attr_resistance" value="4" title="Résistance totale" readonly />
            </div>
            <div class="sheet-input">
                <div class="sheet-comptext">Pts POUVOIR</div>
                <input type="number" name="attr_pointspouvoir" value="0" title="Points de Pouvoir courants" />
                /
                <input type="number" name="attr_pointspouvoir_max" value="0" title="Points de Pouvoir maximum"/>
            </div>
        </div> <!-- FIN Carac dérivées -->
        <div class="sheet-colblock"> <!-- EQUIPEMENT -->
            <div class="sheet-redtitle1">POSSESSIONS</div>
            <div class="sheet-redtitle2" style="display: inline-block;">ARGENT</div>&nbsp;<input type="text" style="width: 200px;" name="attr_argent" placeholder="Richesses" title="Argent & Richesses" />
            <div class="sheet-input">
                <div class="sheet-blacktext2">Encombrement maximum :&nbsp;</div>
                <input type="number" name="attr_encombmax" value="10" readonly />
                kg
            </div>
            <div class="sheet-input">
                <div class="sheet-blacktext2">Encombrement :&nbsp;</div>
                <input type="number" name="attr_encombpoids" min="0" value="0" title="Poids total porté en kg" readonly />
                &nbsp;Malus&nbsp;:
                <input type="number" name="attr_encombrement" value="0" title="Malus d'encombrement à tous les jets d’Agilité et de Force, ainsi qu’à tous les jets de Compétences liées à ces deux Attributs" readonly />
            </div>
            <div>
                <div class="sheet-redtitle2" style="display: inline-block;width: 170px;">&Eacute;QUIPEMENT</div>
                <div class="sheet-blacktext1" style="width: 40px;">Poids</div>
                <div class="sheet-blacktext1" style="width: 40px;">Qté</div>
            </div>
            <fieldset class="repeating_equipements">
                <div class="sheet-input">
                    <input type="text" style="width: 170px;" name="attr_equipnom" placeholder="&Eacute;quipement" title="Nom de l'équipement" />
                    <input type="number" style="width: 40px;" name="attr_equippoids" value="0" min="0" title="Poids total de l'équipement" />
                    <input type="number" style="width: 40px;" name="attr_equipqte" value="1" min="0" title="Quantité" />
                </div>
            </fieldset>
        </div><!-- FIN EQUIPEMENT -->
    </div> <!-- ** END COL2 ** -->
    <div class="sheet-mycol"> <!-- ** COL3 ** -->
        <div class="sheet-colblock">
            <div class="sheet-redtitle1">PERSONNAGE</div>
            <div class="sheet-input"><input type="text" name="attr_character_name" class="sheet-charname" /></div>
            <div class="sheet-input"><div class="sheet-blacktext1" style="width:60px;">Pseudo :&nbsp;</div><input type="text" name="attr_pseudo" style="width:205px;" /></div>
            <div class="sheet-redtitle1">DESCRIPTION</div>
            <div class="sheet-input">
                <div class="sheet-blacktext1" style="width:50px;">Taille :&nbsp;</div><input type="text" name="attr_taille" style="width:70px;" />
                <div class="sheet-blacktext1" style="width:50px;">Poids :&nbsp;</div><input type="text" name="attr_poids" style="width:70px;" />
            </div>
            <div class="sheet-input">
                <div class="sheet-blacktext1" style="width:50px;">Sexe :&nbsp;</div><input type="text" name="attr_sexe" style="width:70px;" />
                <div class="sheet-blacktext1" style="width:50px;">Âge :&nbsp;</div><input type="text" name="attr_age" style="width:70px;" />
            </div>
            <div class="sheet-blacktext1">Signe particulier : </div>
            <div class="sheet-input"><input type="text" name="attr_signe" style="width:100%;" /></div>
        </div>
        <div class="sheet-colblock">
            <div class="sheet-redtitle1">ATOUTS</div>
            <fieldset class="repeating_atouts"> <!-- ATOUTS -->
                <div class="sheet-input">
                    <input type="text" name="attr_atout" style="width: 100%;" placeholder="Atout" />
                </div>
            </fieldset>
            <div class="sheet-redtitle2">HANDICAPS</div>
            <fieldset class="repeating_handicaps"> <!-- ATOUTS -->
                <div class="sheet-input">
                    <input type="text" name="attr_handicap" style="width: 100%;" placeholder="Handicap" />
                </div>
            </fieldset>
        </div>
        <div class="sheet-colblock">
            <div style="text-align: center;">
                <div class="sheet-redtitle1" style="display: inline-block;">PROGRESSION</div>
                <div class="sheet-blacktext2">XP</div>
                <input type="number" name="attr_xp" min="0" value="0" title="Points d'expérience non dépensés" />
            </div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">5</div><input type="text" style="width:195px;" name="attr_progres05" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">10</div><input type="text" style="width:195px;" name="attr_progres10" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">15</div><input type="text" style="width:195px;" name="attr_progres15" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">Aguerri</div><input type="text" style="width:195px;" name="attr_progres20" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">25</div><input type="text" style="width:195px;" name="attr_progres25" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">30</div><input type="text" style="width:195px;" name="attr_progres30" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">35</div><input type="text" style="width:195px;" name="attr_progres35" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">Vétéran</div><input type="text" style="width:195px;" name="attr_progres40" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">45</div><input type="text" style="width:195px;" name="attr_progres45" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">50</div><input type="text" style="width:195px;" name="attr_progres50" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">55</div><input type="text" style="width:195px;" name="attr_progres55" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">Héroïque</div><input type="text" style="width:195px;" name="attr_progres60" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">65</div><input type="text" style="width:195px;" name="attr_progres65" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">70</div><input type="text" style="width:195px;" name="attr_progres70" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">75</div><input type="text" style="width:195px;" name="attr_progres75" /></div>
            <div class="sheet-input"><div class="sheet-blacktext2" style="width:70px;">Légendaire</div><input type="text" style="width:195px;" name="attr_progres80" /></div>
        </div>
    </div> <!-- ** END COL3 ** -->
    <div class="sheet-colblock"> <!-- ** ARMES ** -->
        <div>
            <div class="sheet-redtitle1" style="display: inline-block;width: 150px;">ARMES</div>
            <div class="sheet-redtitle3" style="width: 60px;">Compét.</div>
            <div class="sheet-redtitle3" style="width: 145px;">Dégâts</div>
            <div class="sheet-redtitle3" style="width: 98px;">Portée</div>
            <div class="sheet-redtitle3" style="width: 35px;">CdT</div>
            <div class="sheet-redtitle3" style="width: 80px;">Munitions</div>
            <div class="sheet-redtitle3" style="width: 35px;">PA</div>
            <div class="sheet-redtitle3" style="width: 150px;">Notes</div>
        </div>
        <div class="sheet-input"> <!-- ARME FIXE 1 -->
            <button type="roll"
                name="Btrel-Arme1"
                class="sheet-btRolrel"
                value="@{relRollArmeFixe1}"
                title="Arme N°1"
                >&nbsp;</button>
            <button type="roll"
                name="Btjet-Arme1"
                class="sheet-btRoljet"
                value="@{jetRollArmeFixe1}"
                title="Arme N°1"
                >&nbsp;</button>
            <input type="text" class="sheet-compspe"  name="attr_arme1_nom" placeholder="Nom de l'arme n°1" title="Nom de l'arme n°1" />
            <SELECT name="attr_arme1_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                <OPTION value="Combat">Combat</OPTION>
                <OPTION value="Lancer">Lancer</OPTION>
                <OPTION value="Tir">Tir</OPTION>
            </SELECT>
            <input type="hidden" name="attr_arme1_comp_rel" value="" />
            <input type="hidden" name="attr_arme1_comp_jet" value="" />
            <SELECT name="attr_arme1_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                <OPTION value="0d4">_</OPTION>
            </SELECT>+<input name="attr_arme1_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
            <SELECT name="attr_arme1_dgt_de" class="sheet-selde" title="Dé de dégâts">
                <OPTION value="4" SELECTED>d4</OPTION>
                <OPTION value="6">d6</OPTION>
                <OPTION value="8">d8</OPTION>
                <OPTION value="10">d10</OPTION>
                <OPTION value="12">d12</OPTION>
            </SELECT>+<input name="attr_arme1_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" min="0" title="Bonus aux dégâts" />
            <input name="attr_arme1_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
            <input name="attr_arme1_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
            <input name="attr_arme1_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_arme1_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
            <input name="attr_arme1_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
            <input name="attr_arme1_notes" style="width: 190px;" type="text" placeholder="Notes" title="Notes sur l'arme" />
        </div> <!-- FIN ARME FIXE 1 -->
        <div class="sheet-input"> <!-- ARME FIXE 2 -->
            <button type="roll"
                name="Btrel-Arme2"
                class="sheet-btRolrel"
                value="@{relRollArmeFixe2}"
                title="Attaque Arme n°2"
                >&nbsp;</button>
            <button type="roll"
                name="Btjet-Arme2"
                class="sheet-btRoljet"
                value="@{jetRollArmeFixe2}"
                title="Attaque Arme n°2"
                >&nbsp;</button>
            <input type="text" class="sheet-compspe"  name="attr_arme2_nom" placeholder="Nom de l'arme n°2" title="Nom de l'arme n°2" />
            <SELECT name="attr_arme2_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                <OPTION value="Combat">Combat</OPTION>
                <OPTION value="Lancer">Lancer</OPTION>
                <OPTION value="Tir">Tir</OPTION>
            </SELECT>
            <input type="hidden" name="attr_arme2_comp_rel" value="" />
            <input type="hidden" name="attr_arme2_comp_jet" value="" />
            <SELECT name="attr_arme2_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                <OPTION value="0d4">_</OPTION>
            </SELECT>+<input name="attr_arme2_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
            <SELECT name="attr_arme2_dgt_de" class="sheet-selde" title="Dé de dégâts">
                <OPTION value="4" SELECTED>d4</OPTION>
                <OPTION value="6">d6</OPTION>
                <OPTION value="8">d8</OPTION>
                <OPTION value="10">d10</OPTION>
                <OPTION value="12">d12</OPTION>
            </SELECT>+<input name="attr_arme2_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" min="0" title="Bonus aux dégâts" />
            <input name="attr_arme2_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
            <input name="attr_arme2_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
            <input name="attr_arme2_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_arme2_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
            <input name="attr_arme2_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
            <input name="attr_arme2_notes" style="width: 190px;" type="text" placeholder="Notes" title="Notes sur l'arme" />
        </div> <!-- FIN ARME FIXE 2 -->
        <div class="sheet-input"> <!-- ARME FIXE 3 -->
            <button type="roll"
                name="Btrel-Arme3"
                class="sheet-btRolrel"
                value="@{relRollArmeFixe3}"
                title="Attaque Arme n°3"
                >&nbsp;</button>
            <button type="roll"
                name="Btjet-Arme3"
                class="sheet-btRoljet"
                value="@{jetRollArmeFixe3}"
                title="Attaque Arme n°3"
                >&nbsp;</button>
            <input type="text" class="sheet-compspe"  name="attr_arme3_nom" placeholder="Nom de l'arme n°3" title="Nom de l'arme n°3" />
            <SELECT name="attr_arme3_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                <OPTION value="Combat">Combat</OPTION>
                <OPTION value="Lancer">Lancer</OPTION>
                <OPTION value="Tir">Tir</OPTION>
            </SELECT>
            <input type="hidden" name="attr_arme3_comp_rel" value="" />
            <input type="hidden" name="attr_arme3_comp_jet" value="" />
            <SELECT name="attr_arme3_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                <OPTION value="0d4">_</OPTION>
            </SELECT>+<input name="attr_arme3_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
            <SELECT name="attr_arme3_dgt_de" class="sheet-selde" title="Dé de dégâts">
                <OPTION value="4" SELECTED>d4</OPTION>
                <OPTION value="6">d6</OPTION>
                <OPTION value="8">d8</OPTION>
                <OPTION value="10">d10</OPTION>
                <OPTION value="12">d12</OPTION>
            </SELECT>+<input name="attr_arme3_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" min="0" title="Bonus aux dégâts" />
            <input name="attr_arme3_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
            <input name="attr_arme3_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
            <input name="attr_arme3_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_arme3_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
            <input name="attr_arme3_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
            <input name="attr_arme3_notes" style="width: 190px;" type="text" placeholder="Notes" title="Notes sur l'arme" />
        </div> <!-- FIN ARME FIXE 3 -->
        <fieldset class="repeating_armes">
            <div class="sheet-input"> <!-- ARME DYNAMIQUE -->
                <button type="roll"
                    name="Btrel-ArmeD"
                    class="sheet-btRolrel"
                    value="&{template:sawo} {{name=@{armeD_nom}}}  {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[ @{armeD_comp_rel} ]]}} {{degatsrel=[[ { floor( ( @{armeD_dgt_force} + @{armeD_dgt_nbde}d@{armeD_dgt_de}!!+@{armeD_dgt_bonus}  - (@{Target|resistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 ]]}}  {{cible=@{target|character_name}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{armeD_comp}}}"
                    title="Attaque"
                    >&nbsp;</button>
                <button type="roll"
                    name="Btjet-ArmeD"
                    class="sheet-btRoljet"
                    value="&{template:sawo} {{name=@{armeD_nom}}}  {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{armeD_comp_jet} ]]}} {{degats=[[  @{armeD_dgt_force} + @{armeD_dgt_nbde}d@{armeD_dgt_de}!!+@{armeD_dgt_bonus} ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{armeD_comp}}}"
                    title="Attaque"
                    >&nbsp;</button>
                <input type="text" class="sheet-compspe"  name="attr_armeD_nom" placeholder="Nom de l'arme" title="Nom de l'arme" />
                <SELECT name="attr_armeD_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                    <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                    <OPTION value="Combat">Combat</OPTION>
                    <OPTION value="Lancer">Lancer</OPTION>
                    <OPTION value="Tir">Tir</OPTION>
                </SELECT>
                <input type="hidden" name="attr_armeD_comp_rel" value="" />
                <input type="hidden" name="attr_armeD_comp_jet" value="" />
                <SELECT name="attr_armeD_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                    <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                    <OPTION value="0d4">_</OPTION>
                </SELECT>+<input name="attr_armeD_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
                <SELECT name="attr_armeD_dgt_de" class="sheet-selde" title="Dé de dégâts">
                    <OPTION value="4" SELECTED>d4</OPTION>
                    <OPTION value="6">d6</OPTION>
                    <OPTION value="8">d8</OPTION>
                    <OPTION value="10">d10</OPTION>
                    <OPTION value="12">d12</OPTION>
                </SELECT>+<input name="attr_armeD_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" min="0" title="Bonus aux dégâts" />
                <input name="attr_armeD_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                <input name="attr_armeD_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
                <input name="attr_armeD_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_armeD_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
                <input name="attr_armeD_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
                <input name="attr_armeD_notes" style="width: 190px;" type="text" placeholder="Notes" title="Notes sur l'arme" />
            </div> <!-- FIN ARME DYNAMIQUE -->
            <div style="display: none;">
                <script type="text/worker">
                    on("change:repeating_armes:armed_comp", function() {
                        getAttrs(["repeating_armes_armeD_comp"], function(values) {
                            setAttrs({
                                repeating_armes_armeD_comp_rel: "@{relRollBast" + values.repeating_armes_armeD_comp + "}",
                                repeating_armes_armeD_comp_jet: "@{jetRollBast" + values.repeating_armes_armeD_comp + "}"
                            });
                        });
                    });
                </script>
            </div>
        </fieldset>
    </div> <!-- ** FIN ARMES ** -->
    <div class="sheet-colblock"> <!-- ** POUVOIRS ** -->
        <div>
            <div class="sheet-redtitle1" style="display: inline-block;width: 202px;">POUVOIRS</div>
            <div class="sheet-redtitle3" style="width: 35px;">Rang</div>
            <div class="sheet-redtitle3" style="width: 26px;">PP</div>
            <div class="sheet-redtitle3" style="width: 100px;">Portée</div>
            <div class="sheet-redtitle3" style="width: 100px;">Durée</div>
            <div class="sheet-redtitle3" style="width: 200px;">Effets</div>
        </div>
         <fieldset class="repeating_pouvoirs">
            <div class="sheet-input"> <!-- POUVOIR DYNAMIQUE -->
                <input type="text" name="attr_pouv_nom" style="width: 200px;font-weight:bold;" placeholder="Nom du pouvoir" title="Nom du pouvoir" />
                <SELECT name="attr_pouv_rang" style="width: 30px;margin-left:3px;margin-right:3px;" title="Rang d'accès à ce pouvoir">
                    <OPTION value="N" SELECTED>N - Novice</OPTION>
                    <OPTION value="A">A - Aguerri</OPTION>
                    <OPTION value="V">V - Vétéran</OPTION>
                    <OPTION value="H">H - Héroïque</OPTION>
                    <OPTION value="L">L - Légendaire</OPTION>
                </SELECT>
                <input name="attr_pouv_pp" type="number" style="width:30px;" value="0" min="0" title="Coût en Points de Pouvoir" />
                <input name="attr_pouv_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                <input name="attr_pouv_duree" type="text" style="width:100px;margin-right:3px;" placeholder="Durée" title="Durée du pouvoir" />
                <input name="attr_pouv_effets" type="text" style="width:340px;margin-right:3px;" placeholder="Effets du pouvoir" title="Effets du pouvoir" />
            </div> <!-- FIN POUVOIR DYNAMIQUE -->
        </fieldset>
   </div> <!-- ** FIN POUVOIRS ** -->
</div>
<div style="display: none;"> <!-- SCRIPTS / SHEET WORKERS -->
<script type="text/worker">
/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron
var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.0',
        lastUpdate = 1448523710,

        queuedUpdates = {}, //< Used for delaying saves till the last momment.

    log = function(){
        _.each(arguments,function(m){
            switch(typeof m){
                case 'string':
                    console.log('<TAS> :: '+m);
                    break;
                case 'number':
                    console.log('<TAS> :: [number]: '+m);
                    break;
                default:
                    console.log('<TAS> :: ['+typeof m +']:');
                    console.log(m);
                    console.log('<TAS> :: =========================================================');
            }
        });
    },

    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

    namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
    },

    addId = function(obj,value){
        Object.defineProperty(obj,'id',{
            value: value,
            writeable: false,
            enumerable: false
        });
    },

    addProp = function(obj,prop,value,fullname){
        (function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
                full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
            Object.defineProperty(obj, pname, {
                enumerable: true,
                set: function(v){
                    pvalue=v;
                    prepareUpdate(full_pname,v);
                },
                get: function(){
                    return pvalue;
                }
            });

            // string value
            Object.defineProperty(obj.S, pname, {
                enumerable: true,
                set: function(v){
                    var val=v.toString();
                    pvalue=val;
                    prepareUpdate(full_pname,val);
                },
                get: function(){
                    return pvalue.toString();
                }
            });

            // int value
            Object.defineProperty(obj.I, pname, {
                enumerable: true,
                set: function(v){
                    var val=parseInt(v,10) || 0;
                    pvalue=val;
                    prepareUpdate(full_pname,val);
                },
                get: function(){
                    return parseInt(pvalue,10) || 0;
                }
            });

            // float value
            Object.defineProperty(obj.F, pname, {
                enumerable: true,
                set: function(v){
                    var val=parseFloat(v) || 0;
                    pvalue=val;
                    prepareUpdate(full_pname,val);
                },
                get: function(){
                    return parseFloat(pvalue) || 0;
                }
            });
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

        }());
    },

    repeating = function( section ) {
        return (function(s){
            var sectionName = s,
                attrNames = [],
                fieldNames = [],
                operations = [],

            repAttrs = function(){
                attrNames = namesFromArgs(arguments,attrNames);
                return this;
            },
            repFields = function(){
                fieldNames = namesFromArgs(arguments,fieldNames);
                return this;
            },
            repReduce = function(func, initial, final, context) {
                operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repMap = function(func, final, context) {
                operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repEach = function(func, final, context) {
                operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repTap = function(final, context) {
                operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repExecute = function(){
                var rowSet = {},
                    attrSet = {},
                    fieldIds = [],
                    fullFieldNames = [];

                // call each operation per row.
                // call each operation's final
                getSectionIDs("repeating_"+sectionName,function(ids){
                    fieldIds = ids;
                    fullFieldNames = _.reduce(fieldIds,function(memo,id){
                        return memo.concat(_.map(fieldNames,function(name){
                            return 'repeating_'+sectionName+'_'+id+'_'+name;
                        }));
                    },[]);
                    getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
                        _.each(attrNames,function(aname){
                            if(values.hasOwnProperty(aname)){
                                addProp(attrSet,aname,values[aname]);
                            }
                        });

                        rowSet = _.reduce(fieldIds,function(memo,id){
                            var r={};
                            addId(r,id);
                            _.each(fieldNames,function(name){
                                var fn = 'repeating_'+sectionName+'_'+id+'_'+name;
                                addProp(r,name,values[fn],fn);
                            });

                            memo[id]=r;

                            return memo;
                        },{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                    });
                });
            };

            return {
                attrs: repAttrs,
                attr: repAttrs,

                column: repFields,
                columns: repFields,
                field: repFields,
                fields: repFields,

                reduce: repReduce,
                inject: repReduce,
                foldl: repReduce,

                map: repMap,
                collect: repMap,

                each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

                execute: repExecute,
                go: repExecute,
                run: repExecute
            };
        }(section));
    },


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a[destination]=t;
            })
            .execute();
    };

    console.log('-=> TheAaronSheet v'+version+' <=-  ['+(new Date(lastUpdate*1000))+']');

    return {
        repeatingSimpleSum: repeatingSimpleSum,
        repeating: repeating
    };
}());
/* ---- END: TheAaronSheet.js ---- */
// ARMES FIXES
on("change:arme1_comp", function() {
    getAttrs(["arme1_comp"], function(values) {
        setAttrs({
            arme1_comp_rel: "@{relRollBast" + values.arme1_comp + "}",
            arme1_comp_jet: "@{jetRollBast" + values.arme1_comp + "}"
        });
    });
});
on("change:arme2_comp", function() {
    getAttrs(["arme2_comp"], function(values) {
        setAttrs({
            arme2_comp_rel: "@{relRollBast" + values.arme2_comp + "}",
            arme2_comp_jet: "@{jetRollBast" + values.arme2_comp + "}"
        });
    });
});
on("change:arme3_comp", function() {
    getAttrs(["arme3_comp"], function(values) {
        setAttrs({
            arme3_comp_rel: "@{relRollBast" + values.arme3_comp + "}",
            arme3_comp_jet: "@{jetRollBast" + values.arme3_comp + "}"
        });
    });
});
// CARACS DÉRIVÉES
//    Charisme
on("change:charisme_base change:charisme_bonus", function() {
    getAttrs(["charisme_base","charisme_bonus"], function(values) {
        setAttrs({
            charisme: parseInt(values.charisme_base) + parseInt(values.charisme_bonus)
        });
    });
});
// Parade
on("change:combat_de change:combat_bonus change:parade_bonus", function() {
    getAttrs(["combat_de","combat_bonus","parade_bonus"], function(values) {
        setAttrs({
            parade_base: 2 + Math.floor( (parseInt(values.combat_de) + parseInt(values.combat_bonus)) / 2),
            parade: parseInt(values.parade_bonus) + 2 + Math.floor( (parseInt(values.combat_de) + parseInt(values.combat_bonus)) / 2)
        });
    });
});
// Résistance
on("change:vigueur_de change:vigueur_bonus change:resistance_bonus", function() {
    getAttrs(["vigueur_de","vigueur_bonus","resistance_bonus"], function(values) {
        setAttrs({
            resistance_base: 2 + Math.floor( (parseInt(values.vigueur_de) + parseInt(values.vigueur_bonus)) / 2),
            resistance: parseInt(values.resistance_bonus) + 2 + Math.floor( (parseInt(values.vigueur_de) + parseInt(values.vigueur_bonus)) / 2)
        });
    });
});
//Inventaire et encombrement
on('change:repeating_equipements',function(){
    TAS.repeatingSimpleSum('equipements','equippoids','encombpoids');
});
on("change:force_de", function() {
    getAttrs(["force_de"], function(values) {
        setAttrs({
            encombmax: parseInt(values.force_de)*2.5
        });
    });
});
on("change:encombpoids change:encombmax", function() {
    getAttrs(["encombmax","encombpoids"], function(values) {
        var lemax = parseInt(values.encombmax) || 1;
        var lepoids = parseInt(values.encombpoids) || 0;
        setAttrs({
            encombrement: Math.floor(lepoids/lemax)
        });
    });
});
</script>
</div> <!-- FIN SCRIPTS / SHEET WORKERS -->
<!-- *** TEMPLATES ** -->
<rolltemplate class="sheet-rolltemplate-sawo">
    {{#perso}}
        <table>
           <tr>
                <td style="text-align: center;">
                    <b>{{perso}}</b>
                    {{#attaque}}attaque{{/attaque}}
                    {{^attaque}}fait un jet{{/attaque}}
                </td>
            </tr>
            {{#cible}}
                <tr>
                    <td style="text-align: center;">
                        {{^attaque}}contre{{/attaque}}
                        <b>{{cible}}</b>
                    </td>
                </tr>
            {{/cible}}
        </table>
    {{/perso}}
    <table>
        <tr>
            <th colspan="2">
                {{name}}
                {{#competence}}({{competence}}){{/competence}}
            </th>
        </tr>
        {{#relances}}
            <tr>
                <td style="text-align: right;">{{relances}}</td>
                <td class="sheet-info" style="font-weight: bold;">succès+relances{{#attaque}} (attaque){{/attaque}}</td>
            </tr>
        {{/relances}}
        {{#jet}}
            <tr>
                <td class="sheet-info" style="text-align: right;font-weight: bold;">Jet : </td>
                <td>{{jet}}</td>
            </tr>
        {{/jet}}
        {{#degatsrel}}
            <tr>
                <td style="text-align: right;">{{degatsrel}}</td>
                <td class="sheet-info" style="font-weight: bold;">succès+relances (dégâts)</td>
            </tr>
        {{/degatsrel}}
        {{#degats}}
            <tr>
                <td class="sheet-info" style="text-align: right;font-weight: bold">Dégâts : </td>
                <td>{{degats}}</td>
            </tr>
        {{/degats}}
    </table>
    <table style="border-top:none;">
        <tr><td colspan="2" style="text-align: center;">État de {{perso}}</td></tr>
        {{#rollTotal() blessures 0}}
            {{#rollTotal() fatigue 0}}
                {{#rollTotal() secoue 0}}
                    <td class="sheet-info" style="text-align: center;" colspan="2">Normal</td>
                {{/rollTotal() secoue 0}}
            {{/rollTotal() fatigue 0}}
        {{/rollTotal() blessures 0}}
        {{#rollTotal() secoue 1}}
            <tr class="sheet-septpl">
                <td class="sheet-info" style="text-align: center;" colspan="2">Secoué</td>
            </tr>
        {{/rollTotal() secoue 1}}
        {{#rollGreater() blessures 0}}
            <tr class="sheet-septpl">
                {{#rollLess() blessures 4}}
                    <td style="text-align: right;">{{blessures}}</td>
                    <td class="sheet-info">Blessures</td>
                {{/rollLess() blessures 4}}
                {{#rollTotal() blessures 4}}
                    <td colspan="2" style="text-align: center;color: red;">Blessures Critiques</td>
                {{/rollTotal() blessures 4}}
            </tr>
        {{/rollGreater() blessures 0}}
        {{#rollGreater() fatigue 0}}
            <tr class="sheet-septpl">
                {{#rollLess() fatigue 3}}
                    <td style="text-align: right;">{{fatigue}}</td>
                    <td class="sheet-info">Fatigue</td>
                {{/rollLess() fatigue 3}}
                {{#rollTotal() fatigue 3}}
                    <td colspan="2" style="text-align: center;color: red;">Fatigue Critique</td>
                {{/rollTotal() fatigue 3}}
            </tr>
        {{/rollGreater() fatigue 0}}
        {{#rollGreater() encombrement 0}}
            <tr class="sheet-septpl">
                <td style="text-align: right;">{{encombrement}}</td>
                <td class="sheet-info">Encombrement</td>
            </tr>
        {{/rollGreater() encombrement 0}}
    </table>
</rolltemplate>
